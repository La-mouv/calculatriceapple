<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculatrice</title>

body {
    font-family: 'Arial', sans-serif;
    display: flex;
    height: 100vh;
    justify-content: center;
    align-items: center;
    background-color: #f4f4f4;
}

.calculator {
    border-radius: 8px;
    overflow: hidden;
    width: 250px;
    box-shadow: 0px 0px 15px rgba(0,0,0,0.2);
}

.display {
    background-color: #333;
    padding: 20px;
    font-size: 2em;
    color: white;
    display: flex;
    justify-content: flex-end;
    align-items: center;
}

.buttons {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
}

.btn {
    border: none;
    height: 60px;
    font-size: 1.5em;
    transition: background-color 0.3s ease;
}

.btn:hover {
    background-color: #f4f4f4;
}

.operation {
    background-color: #ffa500;
    color: white;
}

.operation:hover {
    background-color: #ff8c00;
}

#zero {
    grid-column: span 2;
}


    
</head>
<body>

<div class="calculator">
    <!-- Affichage de la calculatrice -->
    <div class="display">
        <span id="currentInput">0</span>
    </div>
    
    <!-- Les boutons de la calculatrice -->
    <div class="buttons">
        <button class="btn" data-value="AC">AC</button>
        <button class="btn" data-value="+/-">+/-</button>
        <button class="btn" data-value="%">%</button>
        <button class="btn operation" data-value="/">÷</button>
        <button class="btn" data-value="7">7</button>
        <button class="btn" data-value="8">8</button>
        <button class="btn" data-value="9">9</button>
        <button class="btn operation" data-value="*">×</button>
        <button class="btn" data-value="4">4</button>
        <button class="btn" data-value="5">5</button>
        <button class="btn" data-value="6">6</button>
        <button class="btn operation" data-value="-">-</button>
        <button class="btn" data-value="1">1</button>
        <button class="btn" data-value="2">2</button>
        <button class="btn" data-value="3">3</button>
        <button class="btn operation" data-value="+">+</button>
        <button class="btn" data-value="0" id="zero">0</button>
        <button class="btn" data-value=".">,</button>
        <button class="btn operation" data-value="=">=</button>
    </div>
</div>

document.addEventListener("DOMContentLoaded", function() {
    
    const display = document.getElementById("currentInput");
    let currentInput = "";
    let previousInput = "";
    let operation = undefined;
    
    function updateDisplay() {
        display.textContent = currentInput;
    }

    document.querySelector(".buttons").addEventListener("click", function(event) {
        const buttonValue = event.target.getAttribute("data-value");
        if (!buttonValue) return;

        switch(buttonValue) {
            case "AC":
                currentInput = "";
                previousInput = "";
                operation = undefined;
                break;
            case "+/-":
                currentInput = String(-1 * parseFloat(currentInput));
                break;
            case "=":
                if (previousInput && currentInput && operation) {
                    currentInput = String(operate(previousInput, currentInput, operation));
                    operation = undefined;
                    previousInput = "";
                }
                break;
            case "+":
            case "-":
            case "*":
            case "/":
                if (currentInput) {
                    operation = buttonValue;
                    previousInput = currentInput;
                    currentInput = "";
                }
                break;
            case ".":
                if (!currentInput.includes(".")) {
                    currentInput += ".";
                }
                break;
            default:
                currentInput += buttonValue;
                break;
        }

        updateDisplay();
    });

    function operate(a, b, op) {
        a = parseFloat(a);
        b = parseFloat(b);

        switch(op) {
            case "+":
                return a + b;
            case "-":
                return a - b;
            case "*":
                return a * b;
            case "/":
                if (b !== 0) {
                    return a / b;
                } else {
                    alert("Division par zéro!");
                    return "";
                }
        }
    }

});

    
</body>
</html>
